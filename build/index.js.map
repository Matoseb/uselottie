{
  "version": 3,
  "sources": ["../src/uselottie/index.ts", "../src/uselottie/LottieController.ts", "../src/uselottie/LottieAudio.ts", "../src/uselottie/index.scss", "../src/uselottie/utils.ts", "../src/uselottie/useHover.ts", "../src/uselottie/lottie-utils.ts", "../src/uselottie/framify/index.scss", "../src/uselottie/framify/frame.scss", "../src/uselottie/framify/index.ts"],
  "sourcesContent": ["import LottieController, { LottieControllerConfig } from \"./LottieController\";\nimport framify, { FramifyConfig } from \"./framify\";\n\n// LOTTIE\nexport default function useLottie(\n  options: LottieControllerConfig\n): LottieController {\n  const controller = new LottieController(options);\n\n  // bind everything to the controller\n\n  return controller;\n}\n\n// FRAMIFY\nexport { framify };\n\n// GLOBAL DECLARATIONS\n\ndeclare global {\n  function useLottie(options: LottieControllerConfig): LottieController;\n  function framify(folders: FramifyConfig[\"folders\"], config?: FramifyConfig[\"options\"]): void;\n}\n\nglobalThis.useLottie = useLottie;\nglobalThis.framify = framify;\n", "import lottie, { AnimationConfigWithPath, SVGRendererConfig } from \"lottie-web\";\nimport LottieAudio, { LottieAudioOptions } from \"./LottieAudio\";\nimport styleContent from \"./index.scss?inline\";\nimport useHover from \"./useHover\";\nimport { Referentiel } from \"referentiel\";\n\nimport {\n  getElem,\n  getElems,\n  firstCap,\n  random as mathRandom,\n  isIOS,\n  toPercent,\n  fancyLog,\n  convertShortHand,\n  noFunc,\n  ConsoleType,\n  injectCSS,\n  clamp as clampNumber,\n  stringify,\n} from \"./utils\";\n\nimport {\n  playAnimation,\n  seekAnimation,\n  BMAudioEvent,\n  AnimationValue,\n  CompleteAnimationItem,\n} from \"./lottie-utils\";\n\nimport LottieApi, { AnimationItemAPI } from \"lottie-api\";\n\nconst convertPoint = Referentiel.convertPointFromPageToNode;\n\nexport type LottieControllerConfig = Omit<\n  AnimationConfigWithPath,\n  \"container\"\n> & {\n  debug?: boolean;\n  injectCSS?: boolean;\n  volumeVariation?: number;\n  rateVariation?: number;\n  howlerOptions?: LottieAudioOptions;\n  container?: string | Element;\n  filterSpread?: number | number[];\n};\n\ntype AnimationKey = string | null;\n\nenum MESSAGE {\n  event, // log\n  action, // log\n  default, // log\n  error, // error\n}\n\nconst COLORS: Record<MESSAGE, string> = {\n  [MESSAGE.event]: \"lightblue\",\n  [MESSAGE.action]: \"orange\",\n  [MESSAGE.default]: \"lightgray\",\n  [MESSAGE.error]: \"red\",\n};\n\nconst LOGTYPES: PartialRecord<MESSAGE, ConsoleType> = {\n  [MESSAGE.error]: \"error\",\n  [MESSAGE.default]: \"log\",\n};\n// logtype based on COLORS:\n\nexport default class LottieController {\n  animation: AnimationKey = null;\n  container: Element | null = null;\n  api: AnimationItemAPI | null = null;\n  name: string = \"\";\n  stopHover: Callback | undefined;\n  player: CompleteAnimationItem;\n  debug: boolean = false;\n  animVariation: number | boolean = false;\n  volumeVariation: number;\n  rateVariation: number;\n\n  constructor(options: LottieControllerConfig = {}) {\n    const {\n      debug = false,\n      injectCSS: addCSS = true,\n      volumeVariation = 0,\n      name = \"\",\n      rateVariation = 0,\n      filterSpread = 0.5,\n      howlerOptions = {},\n      ...lottieOptions\n    } = options;\n\n    this.debug = debug;\n    this.volumeVariation = volumeVariation;\n    this.rateVariation = rateVariation;\n    this.name = name;\n\n    if (addCSS) injectCSS(\"lottie-controller\", styleContent);\n\n    this.container =\n      typeof options.container === \"string\"\n        ? (() => {\n            const elem = getElem(options.container);\n            if (!elem) {\n              this.log(`Element not found`, MESSAGE.error)(options.container);\n              throw new Error(\"Element not found:\" + options.container);\n            }\n            return elem;\n          })()\n        : options.container || document.body;\n\n    this.player = lottie.loadAnimation({\n      renderer: \"svg\", // Render method ('svg', 'canvas', or 'html')\n      loop: false, // Set looping to true\n      autoplay: false, // Set to true for autoplaying the animation\n      rendererSettings: {\n        // viewBoxSize: 1,\n        filterSize: LottieController.buildFilterSize(filterSpread),\n      },\n      audioFactory(assetPath) {\n        const audio = new LottieAudio({\n          src: assetPath,\n          html5: isIOS() ? true : false,\n          // preload: true,\n          ...howlerOptions,\n        });\n        return audio;\n      },\n      ...lottieOptions,\n\n      container: this.container,\n    }) as unknown as CompleteAnimationItem;\n\n    this.api = LottieApi.createAnimationApi(this.player);\n\n    this.player.addEventListener(\"DOMLoaded\", () => {\n      this.name = this.getName();\n      document.title = firstCap(this.name);\n\n      this.log(\n        \"DOMLoaded\",\n        MESSAGE.event\n      )(this.player.path + this.player.fileName + \".json\");\n\n      const container = this.getElem() as HTMLElement;\n      if (!container) return;\n\n      this.stopHover = useHover((canHover) => {\n        this.setAttr(\"can-hover\", canHover, true);\n      });\n\n      // Disable right click\n      container.dataset.filename = this.name;\n      container.classList.add(\"lottie-controller\");\n      container.addEventListener(\n        \"contextmenu\",\n        (event) => {\n          event.preventDefault();\n          event.stopPropagation();\n          return false;\n        },\n        true\n      );\n    });\n\n    this.player.addEventListener(\"complete\", () => {\n      this.setAttr(\"data-playing\", false);\n      this.log(\"complete\", MESSAGE.event)();\n    });\n\n    this.player.addEventListener(\"loopComplete\", () => {\n      this.log(\"loopComplete\", MESSAGE.event)();\n    });\n\n    let oldFrame = Infinity;\n\n    this.player.addEventListener(\"enterFrame\", (event) => {\n      if (event.direction !== 1) return;\n\n      const playing = this.isPlaying();\n      this.setAttr(\"data-playing\", playing);\n\n      if (!playing) return;\n\n      const { audios } = this.player.audioController || { audios: [] };\n      const frame = this.player.firstFrame + this.player.currentFrame;\n\n      audios.forEach(({ audio, data }) => {\n        const { st } = data;\n\n        if (st <= frame && st > oldFrame) {\n          const rate = this.rateVariation * 0.5;\n          audio.manualRate?.(mathRandom(1 - rate, 1 + rate));\n          audio.manualVolume?.(mathRandom(1 - this.volumeVariation, 1));\n          const event = { audios, audio, data, prevent: false } as BMAudioEvent;\n          this.player.triggerEvent(\"audio\", event);\n          if (event.prevent !== true) audio.manualPlay?.();\n        }\n      });\n\n      oldFrame = frame;\n    });\n  }\n\n  random = mathRandom;\n\n  setAnimVariation = (value: number | boolean = false) => {\n    return (this.animVariation = value);\n  };\n\n  onComplete = (callback: Callback) => {\n    return this.player.addEventListener(\"complete\", callback);\n  };\n  onLoad = (callback: Callback) => {\n    return this.player.addEventListener(\"DOMLoaded\", callback);\n  };\n  onLoopComplete = (callback: Callback) => {\n    return this.player.addEventListener(\"loopComplete\", callback);\n  };\n  onAudio = (callback: Callback) => {\n    return this.player.addEventListener(\"audio\", callback);\n  };\n  getElem = (selector?: string | null, parent?: Element | null) => {\n    parent ||= this.player.renderer.svgElement;\n    // parent ||= this.container;\n    if (!selector) return parent;\n    return getElem(selector, parent || undefined);\n  };\n  getElems = (selector: string, parent?: Element | null) => {\n    parent ||= this.player.renderer.svgElement;\n    return getElems(selector, parent || undefined);\n  };\n  isPlaying = (...possibleAnimations: AnimationValue[]) => {\n    if (possibleAnimations.length === 0) return !this.player.isPaused;\n    const keys = possibleAnimations.map(LottieController.getAnimationKey);\n    return this.animation !== null && keys.includes(this.animation);\n  };\n  currentAnimation = () => {\n    return this.animation;\n  };\n\n  private handleAnimVariation = (animation?: AnimationValue) => {\n    if (!animation) return animation;\n    if (!Array.isArray(animation)) return animation;\n    if (this.animVariation === false) return animation;\n\n    return animation[\n      clampNumber(Number(this.animVariation), 0, animation.length)\n    ];\n  };\n\n  seek = (animation: AnimationValue, { position = 0, isFrame = true } = {}) => {\n    this.player.loop = false;\n    this.player.resetSegments(true);\n\n    this.setAnimation(animation);\n\n    animation = this.handleAnimVariation(animation) as AnimationValue;\n\n    const result = seekAnimation(this.player, animation, position, isFrame);\n\n    this.log(\"seek\", MESSAGE.action)({ position });\n\n    return result;\n  };\n\n  getAnimation = () => {\n    return this.animation;\n  };\n\n  getInfos = () => {\n    return {\n      animation: this.animation,\n      currentFrame: this.player.currentFrame,\n    };\n  };\n\n  setAnimation = (anim: AnimationValue = null) => {\n    this.animation = LottieController.getAnimationKey(anim);\n    this.setAttr(\"data-animation\", this.animation);\n  };\n\n  getPoint = (\n    x: number, // pageX\n    y: number, // pageY\n    {\n      viewbox = false,\n      selector = null,\n      normalize = true,\n      clamp = false,\n    }: {\n      viewbox?: boolean;\n      selector?: string | null;\n      normalize?: boolean;\n      clamp?: boolean;\n    } = {}\n  ) => {\n    const elem = this.getElem(selector);\n    if (!elem) return null;\n\n    let width, height, top, left, right, bottom;\n\n    // check if element is a svg, or path, or ...\n    if (\"getBBox\" in elem && viewbox) {\n      const box = (elem as SVGSVGElement).getBBox();\n      ({ x: left, y: top, width, height } = box);\n      right = left + width;\n      bottom = top + height;\n    } else {\n      ({ top, left, width, height, right, bottom } =\n        elem.getBoundingClientRect());\n    }\n\n    if (!viewbox) {\n      x -= left;\n      y -= top;\n    } else {\n      [x, y] = convertPoint(elem, [x, y]);\n    }\n\n    if (clamp) {\n      x = clampNumber(x, 0, width);\n      y = clampNumber(y, 0, height);\n    }\n\n    if (normalize) {\n      x /= width;\n      y /= height;\n    }\n\n    return {\n      top,\n      left,\n      width,\n      height,\n      right,\n      bottom,\n      x,\n      y,\n    };\n  };\n\n  setAttr = (key: string, value: any = \"\", modeNoValue = false) => {\n    const container = this.getElem() as HTMLElement;\n\n    if (!container) return;\n\n    if (modeNoValue) {\n      value = Boolean(value) ? \"\" : null;\n    }\n\n    if (value === null) {\n      container.removeAttribute(key);\n      return;\n    }\n    container.setAttribute(key, stringify(value));\n  };\n\n  log = (name?: string, messageType?: MESSAGE) => {\n    if (!this.debug) return noFunc;\n\n    const as = LOGTYPES[messageType || MESSAGE.default];\n    const color = COLORS[messageType || MESSAGE.default];\n    return (...value: any[]) => {\n      fancyLog.call({ name, color, as }, ...value, { ...this.getInfos() });\n    };\n  };\n\n  loop = (loop: boolean) => {\n    const { player } = this;\n    if (player.loop === true && player.loop !== loop && !player.isPaused) {\n      const { firstFrame, totalFrames, currentFrame } = player;\n      // add 1 to the totalFrames to include the last frame\n      player.adjustSegment([firstFrame, totalFrames + firstFrame + 1], currentFrame);\n    }\n    return player.loop = loop;\n  };\n\n  play = (\n    animation: AnimationValue = 0,\n    { isFrame = true, loop = false, smooth = false } = {}\n  ) => {\n    const force = !smooth;\n    this.player.loop = loop;\n\n    if (typeof animation === \"number\") {\n      this.setAnimation();\n      this.player.goToAndPlay(animation, isFrame);\n      return;\n    }\n\n    this.setAnimation(animation);\n    animation = this.handleAnimVariation(animation) as AnimationValue;\n\n    this.log(\"play\", MESSAGE.action)();\n\n    return playAnimation(this.player, animation, force);\n  };\n\n  getName = () => {\n    const { fileName, path = \"\" } = this.player;\n\n    if (this.name) return this.name;\n\n    if (!fileName || fileName === \"data\") {\n      return path.split(\"/\").filter(Boolean).pop() || \"untitled\";\n    }\n\n    return fileName;\n  };\n\n  destroy = () => {\n    this.player.destroy();\n    this.stopHover?.();\n  };\n\n  static getAnimationKey(anim: AnimationValue = null): AnimationKey {\n    if (anim === null || anim === undefined) return null;\n    return stringify(anim);\n  }\n\n  static buildFilterSize(spread: number | number[]) {\n    const [top, right, bottom, left] = convertShortHand(spread);\n\n    return {\n      x: toPercent(-left),\n      y: toPercent(-top),\n      width: toPercent(1 + right + left),\n      height: toPercent(1 + bottom + top),\n    } as SVGRendererConfig[\"filterSize\"];\n  }\n}\n", "import { Howl, HowlOptions } from \"howler\";\n\nexport interface LottieAudioOptions extends HowlOptions {\n}\n\nexport default class LottieAudio extends Howl {\n  constructor(options: LottieAudioOptions) {\n    super(options);\n    // super.on(\"end\", () => {\n    //   // this.isPlaying = false;\n    // });\n  }\n\n  manualSeek(value: number) {\n    return super.seek(value);\n  }\n  manualPlay() {\n    return super.play();\n  }\n  manualRate(value: number) {\n    return super.rate(value);\n  }\n  manualVolume(value: number) {\n    return super.volume(value);\n  }\n  playing() {\n    return false;\n  }\n  setVolume() {}\n  //@ts-ignore\n  seek() {\n    return super.seek();\n  }\n  //@ts-ignore\n  rate() {\n    return super.rate();\n  }\n  pause() {\n    return this;\n  }\n  play() {\n    return -1;\n  }\n}\n", "export default `/* prevent zoom */\nsvg.lottie-controller {\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n  -webkit-tap-highlight-color: transparent;\n  -webkit-touch-callout: none;\n  overflow: visible;\n  pointer-events: none;\n}\nsvg.lottie-controller > * {\n  pointer-events: auto;\n}\nsvg.lottie-controller > g[clip-path],\nsvg.lottie-controller .overflow {\n  clip-path: unset;\n}\nsvg.lottie-controller * {\n  touch-action: none;\n  box-sizing: border-box;\n  user-select: none;\n  -webkit-user-select: none;\n}\nsvg.lottie-controller .noclick {\n  pointer-events: none;\n}\nsvg.lottie-controller .click,\nsvg.lottie-controller .hitbox {\n  pointer-events: auto;\n  cursor: pointer;\n}\nsvg.lottie-controller .hitbox * {\n  stroke: transparent;\n  fill: transparent;\n}\nsvg.lottie-controller .noscale [stroke],\nsvg.lottie-controller .noscale path,\nsvg.lottie-controller .noscale circle,\nsvg.lottie-controller .noscale ellipse,\nsvg.lottie-controller .noscale rect,\nsvg.lottie-controller .noscale polygon,\nsvg.lottie-controller .noscale line,\nsvg.lottie-controller .noscale text,\nsvg.lottie-controller .noscale polyline {\n  vector-effect: non-scaling-stroke;\n}\nsvg.lottie-controller .scale [stroke],\nsvg.lottie-controller .scale path,\nsvg.lottie-controller .scale circle,\nsvg.lottie-controller .scale ellipse,\nsvg.lottie-controller .scale rect,\nsvg.lottie-controller .scale polygon,\nsvg.lottie-controller .scale line,\nsvg.lottie-controller .scale text,\nsvg.lottie-controller .scale polyline {\n  vector-effect: unset;\n}\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VSb290IjoiL2hvbWUvcnVubmVyL3dvcmsvdXNlbG90dGllL3VzZWxvdHRpZS9zcmMvdXNlbG90dGllIiwic291cmNlcyI6WyJpbmRleC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBZ0JBO0VBQ0U7RUFDQTtFQUNBO0VBQ0E7RUFFQTs7QUFFQTtFQUNFOztBQUdGO0FBQUE7RUFFRTs7QUFHRjtFQUNFO0VBQ0E7RUFDQTtFQUNBOztBQUdGO0VBQ0U7O0FBR0Y7QUFBQTtFQUVFO0VBQ0E7O0FBR0Y7RUFDRTtFQUNBOztBQWpERjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7RUFzREk7O0FBdERKO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtFQTZESSIsInNvdXJjZXNDb250ZW50IjpbIi8qIHByZXZlbnQgem9vbSAqL1xuXG5AbWl4aW4gc3ZnRWxlbSB7XG4gIFtzdHJva2VdLFxuICBwYXRoLFxuICBjaXJjbGUsXG4gIGVsbGlwc2UsXG4gIHJlY3QsXG4gIHBvbHlnb24sXG4gIGxpbmUsXG4gIHRleHQsXG4gIHBvbHlsaW5lIHtcbiAgICBAY29udGVudDtcbiAgfVxufVxuXG5zdmcubG90dGllLWNvbnRyb2xsZXIge1xuICAtd2Via2l0LXRhcC1oaWdobGlnaHQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMCk7XG4gIC13ZWJraXQtdGFwLWhpZ2hsaWdodC1jb2xvcjogdHJhbnNwYXJlbnQ7XG4gIC13ZWJraXQtdG91Y2gtY2FsbG91dDogbm9uZTtcbiAgb3ZlcmZsb3c6IHZpc2libGU7XG5cbiAgcG9pbnRlci1ldmVudHM6IG5vbmU7XG5cbiAgPiAqIHtcbiAgICBwb2ludGVyLWV2ZW50czogYXV0bztcbiAgfVxuXG4gID4gZ1tjbGlwLXBhdGhdLFxuICAub3ZlcmZsb3cge1xuICAgIGNsaXAtcGF0aDogdW5zZXQ7XG4gIH1cblxuICAqIHtcbiAgICB0b3VjaC1hY3Rpb246IG5vbmU7IC8vIG5vbmU/XG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgICB1c2VyLXNlbGVjdDogbm9uZTtcbiAgICAtd2Via2l0LXVzZXItc2VsZWN0OiBub25lO1xuICB9XG5cbiAgLm5vY2xpY2sge1xuICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xuICB9XG5cbiAgLmNsaWNrLFxuICAuaGl0Ym94IHtcbiAgICBwb2ludGVyLWV2ZW50czogYXV0bztcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG4gIH1cblxuICAuaGl0Ym94ICoge1xuICAgIHN0cm9rZTogdHJhbnNwYXJlbnQ7XG4gICAgZmlsbDogdHJhbnNwYXJlbnQ7XG4gIH1cblxuICAubm9zY2FsZSB7XG4gICAgQGluY2x1ZGUgc3ZnRWxlbSB7XG4gICAgICB2ZWN0b3ItZWZmZWN0OiBub24tc2NhbGluZy1zdHJva2U7XG4gICAgICAvLyBzdHJva2Utd2lkdGg6IHZhcigtLXN0cm9rZS13aWR0aCwgcmV2ZXJ0LWxheWVyKTtcbiAgICB9XG4gIH1cblxuICAuc2NhbGUge1xuICAgIEBpbmNsdWRlIHN2Z0VsZW0ge1xuICAgICAgdmVjdG9yLWVmZmVjdDogdW5zZXQ7XG4gICAgICAvLyBzdHJva2Utd2lkdGg6IHZhcigtLXN0cm9rZS13aWR0aCwgcmV2ZXJ0LWxheWVyKTtcbiAgICB9XG4gIH1cbn1cbiJdfQ== */`;\n", "import tinycolor from \"tinycolor2\";\n\n// System\nexport function isIOS() {\n  return /iPad|iPhone|iPod/.test(navigator.userAgent);\n}\nexport function isTouch() {\n  return window.matchMedia(\"(pointer: coarse)\").matches;\n}\n\n// fallbacks\nexport const noFunc = () => {};\n\n// DOM\nexport function getElem(\n  selector: string,\n  parent: Element | Document = document\n) {\n  return parent.querySelector(selector);\n}\nexport function getElems(\n  selector: string,\n  parent: Element | Document = document\n) {\n  return Array.from(parent.querySelectorAll(selector));\n}\n\nexport function addListener<K extends keyof WindowEventMap>(\n  event: K,\n  callback: (ev: WindowEventMap[K]) => any,\n  optionsOrCapture?: boolean | AddEventListenerOptions,\n  target: EventTarget = window\n) {\n  target.addEventListener(\n    event,\n    callback as EventListenerOrEventListenerObject,\n    optionsOrCapture\n  );\n\n  return () => {\n    target.removeEventListener(\n      event,\n      callback as EventListenerOrEventListenerObject,\n      optionsOrCapture\n    );\n  };\n}\nexport function isIframe() {\n  try {\n    return window.self !== window.top;\n  } catch (e) {\n    return true;\n  }\n}\n\n// math\n// #region dependencies for random ----------\n\nfunction isNumber(elem: any): boolean {\n  return !(isNaN(elem) || elem === null);\n}\n\nexport function delay(ms: number) {\n  return new Promise((resolve) => {\n    setTimeout(resolve, ms);\n  });\n}\n\n// #endregion ----------\n\nexport function random(a?: number | object | any[], b?: number): number | any {\n  if (arguments.length === 1) {\n    if (Array.isArray(a)) {\n      const index = Math.floor(random(a.length));\n      return a[index];\n    } else if (typeof a === \"object\") {\n      return random(Object.values(a));\n    } else if (isNumber(a)) {\n      return Math.random() * (a as number);\n    }\n  } else if (arguments.length === 0) {\n    return Math.random();\n  }\n\n  return Math.random() * ((b as number) - (a as number)) + (a as number);\n}\n\nexport function clamp(value: number, min: number = 0, max: number = 1) {\n  return Math.min(Math.max(value, min), max);\n}\n\nexport function toPercent(value: number, total = 1) {\n  return `${(value / total) * 100}%`;\n}\n\n// text\nexport function firstCap(text: string = \"\") {\n  return text.charAt(0).toUpperCase() + text.slice(1);\n}\n\n// css\nexport function convertShortHand(value: number | number[]) {\n  if (typeof value === \"number\") {\n    return [value, value, value, value];\n  }\n  if (value.length === 2) {\n    return [value[0], value[1], value[0], value[1]];\n  }\n  if (value.length === 3) {\n    return [value[0], value[1], value[2], value[1]];\n  }\n  return value.slice(0, 4);\n}\n\nexport type ConsoleType = \"log\" | \"warn\" | \"error\" | \"info\" | \"debug\";\n\ntype FancyLog = {\n  name?: string;\n  color?: string;\n  as?: ConsoleType;\n};\n\n// debugging\nexport function fancyLog(this: FancyLog, ...value: any[]) {\n  const { name, color = \"lightgray\", as = \"log\" } = this;\n\n  if (!name) return console[as](...value);\n\n  const textColor = tinycolor(color).getLuminance() >= 0.5 ? \"black\" : \"white\";\n\n  console[as](\n    `%c${name}`,\n    `color: ${textColor}; padding: 3px 5px; border-radius: 3px; background-color: ${color};`,\n    ...value\n  );\n}\n\nexport function injectCSS(name: string, styleContent = \"\") {\n  const attr = \"data-type\";\n  let style = document.querySelector(`style[${attr}=\"${name}]`);\n\n  if (!style) {\n    style = document.createElement(\"style\");\n    style.setAttribute(attr, name);\n    document.head.appendChild(style);\n  }\n\n  style.innerHTML = styleContent;\n}\n\nexport function stringify(obj: unknown) {\n  return typeof obj === \"string\" ? obj : JSON.stringify(obj);\n}\n", "import { isTouch } from \"./utils\";\n\ntype HoverHandler = (canHover: boolean) => void;\n\nlet isInitialized: (() => void) | null = null;\nconst hoverCallbacks: Set<HoverHandler> = new Set();\n\nfunction initializeHoverListeners() {\n  function updateHoverState(canHover: boolean) {\n    // check if coarse\n\n    hoverCallbacks.forEach((callback) => callback(canHover));\n  }\n\n  function disable(event: TouchEvent) {\n    if (event.touches.length > 0) return;\n    updateHoverState(false);\n  }\n\n  function enable() {\n    updateHoverState(true);\n  }\n\n  function checkEnable() {\n    if (isTouch()) return;\n    updateHoverState(true);\n  }\n\n  if (!isTouch()) updateHoverState(true);\n\n  if (!isInitialized) {\n    window.addEventListener(\"touchstart\", enable);\n    window.addEventListener(\"mousemove\", checkEnable);\n    window.addEventListener(\"touchend\", disable);\n    isInitialized = () => {\n      window.removeEventListener(\"touchstart\", enable);\n      window.removeEventListener(\"mousemove\", checkEnable);\n      window.removeEventListener(\"touchend\", disable);\n      if (isTouch()) updateHoverState(false);\n      isInitialized = null;\n    };\n  }\n}\n\nexport default function useHover(onHoverChange?: HoverHandler) {\n  if (onHoverChange) {\n    hoverCallbacks.add(onHoverChange);\n  }\n\n  initializeHoverListeners();\n\n  return function destroy() {\n    if (onHoverChange) {\n      hoverCallbacks.delete(onHoverChange);\n      if (isTouch()) onHoverChange(false);\n    }\n\n    if (hoverCallbacks.size === 0 && isInitialized) {\n      isInitialized();\n    }\n  };\n}\n", "import {\n  AnimationItem,\n  AnimationSegment,\n  AnimationEventName,\n  BMEnterFrameEvent,\n  BMCompleteLoopEvent,\n  BMCompleteEvent,\n  BMSegmentStartEvent,\n  BMDestroyEvent,\n} from \"lottie-web\";\n\nimport LottieAudio from \"./LottieAudio\";\n\ntype Marker = {\n  payload: {\n    name: string;\n  };\n  time: number;\n};\n\nexport type AnimationValue =\n  | string\n  | number\n  | AnimationSegment\n  | AnimationSegment[]\n  | null;\n\ntype AudioControl = {\n  audio: LottieAudio;\n  data: any;\n};\n\nexport type BMAudioEvent = {\n  audios: AudioControl[];\n  audio: LottieAudio;\n  data: any;\n  prevent: boolean;\n};\n\ntype CompleteAnimationEventName = \"audio\" | AnimationEventName;\n\nexport type CompleteAnimationItem = AnimationItem & {\n  markers: Marker[];\n  fileName: string;\n  path: string;\n  adjustSegment: (segment: AnimationSegment, offset: number) => void;\n  audioController?: {\n    audios: AudioControl[];\n  };\n  addEventListener: (\n    name: CompleteAnimationEventName,\n    callback: (event: any) => void\n  ) => () => void;\n  removeEventListener: (\n    name: CompleteAnimationEventName,\n    callback: (event: any) => void\n  ) => void;\n  triggerEvent: (\n    name: CompleteAnimationEventName,\n    event:\n      | BMAudioEvent\n      | BMEnterFrameEvent\n      | BMCompleteLoopEvent\n      | BMCompleteEvent\n      | BMSegmentStartEvent\n      | BMDestroyEvent\n      | undefined\n  ) => void;\n};\n\n// lottie\nexport function getMarker(player: CompleteAnimationItem, name: string) {\n  return (\n    player.markers.find((marker: Marker) => marker.payload.name === name) ||\n    null\n  );\n}\n\nexport function convertSegment(\n  player: CompleteAnimationItem,\n  animation: AnimationValue = null\n): AnimationSegment {\n  const { totalFrames, currentFrame } = player;\n  const lastFrame = totalFrames - 1;\n\n  if (animation === null) {\n    const firstFrame = currentFrame >= lastFrame ? 0 : currentFrame;\n    return [firstFrame, lastFrame];\n  } else if (typeof animation === \"number\") {\n    return [animation, lastFrame];\n  } else if (typeof animation !== \"string\") {\n    return animation as AnimationSegment;\n  }\n\n  let addFrame = player.loop ? false : true;\n\n  const frames: number[] = [];\n\n  animation\n    .split(\",\")\n    .filter(Boolean)\n    .slice(0, 2)\n    .forEach((name, index) => {\n      name = name.trim();\n      const marker = getMarker(player, name);\n      if (marker === null) return;\n      frames.push(markerToFrame(marker, addFrame ? index : 0));\n    });\n\n  return frames as AnimationSegment;\n}\n\nexport function markerToFrame(marker: Marker, index = 0) {\n  return marker.time + (index > 0 ? 1 : 0);\n}\n\nexport function playAnimation(\n  player: CompleteAnimationItem,\n  animation?: AnimationValue | AnimationValue[],\n  force = true\n) {\n  let segments;\n  if (Array.isArray(animation)) {\n    segments = animation.map((segment) => {\n      return convertSegment(player, segment);\n    });\n  } else {\n    segments = convertSegment(player, animation);\n  }\n  player.playSegments(segments, force);\n}\n\nfunction lerpRange(arr: number[], range = 0) {\n  const [start, end] = arr;\n  return start + (end - start) * range;\n}\n\nexport function seekAnimation(\n  player: CompleteAnimationItem,\n  animation?: AnimationValue | AnimationValue[],\n  position = 1,\n  isFrame = true\n) {\n  if (Array.isArray(animation) && Array.isArray(animation[0])) {\n    // clamp\n    const pos = Math.min(1, Math.max(0, position));\n    const index = Math.round(pos * (animation.length - 1));\n    animation = animation[index];\n  } else if (animation === null) {\n    animation = 0;\n  }\n\n  const segments = convertSegment(player, animation as AnimationValue);\n\n  player.goToAndStop(lerpRange(segments, position), isFrame);\n}\n", "export default `.framify {\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n}\n.framify__row {\n  position: relative;\n  display: flex;\n  flex-wrap: wrap;\n  padding: 1rem;\n  gap: 1rem;\n  width: 100%;\n  box-sizing: border-box;\n  justify-content: center;\n}\n@media (max-width: 768px) {\n  .framify__row {\n    flex-direction: column;\n    width: 100%;\n  }\n}\n.framify__cell {\n  position: relative;\n  align-self: center;\n  width: 100%;\n  max-width: 16rem;\n  aspect-ratio: 1/1;\n  border-radius: 1rem;\n  overflow: hidden;\n}\n@media (max-width: 768px) {\n  .framify__cell {\n    max-width: 100%;\n  }\n}\n@media (pointer: fine) {\n  .framify__cell:hover {\n    box-shadow: 0 0 10px rgba(158, 160, 162, 0.25);\n    z-index: 1;\n  }\n}\n.framify__cell-link {\n  position: absolute;\n  z-index: 2;\n  right: 0;\n  font-size: 1.5rem;\n  text-decoration: none;\n  padding: 1rem;\n  visibility: hidden;\n  aspect-ratio: 1/1;\n  width: unset;\n  display: flex;\n  color: transparent;\n  background-clip: text;\n  background-color: rgba(158, 160, 162, 0.25);\n  transition: transform, visibility, opacity, background-color;\n  transition-duration: 0.2s;\n  transform: scale(0.8);\n  transform-origin: bottom left;\n  opacity: 0;\n}\n@media (pointer: fine) {\n  .framify__cell-link:hover {\n    background-color: hsl(212, 100%, 76%);\n  }\n}\n.framify__cell-link:active {\n  background-color: hsl(212, 100%, 76%);\n}\n:hover > .framify__cell-link {\n  visibility: visible;\n  transform: scale(1);\n  opacity: 1;\n}\n@media (pointer: coarse) {\n  .framify__cell-link {\n    visibility: visible;\n    transform: scale(1);\n    opacity: 1;\n  }\n}\n@media (pointer: coarse) {\n  .framify__cell {\n    box-shadow: 0 0 10px rgba(158, 160, 162, 0.25);\n    z-index: 1;\n  }\n}\n.framify__cell.fullscreen {\n  box-shadow: 0 0 10px rgba(158, 160, 162, 0.25);\n  z-index: 1;\n}\n.framify:has(.fullscreen) .framify__cell:not(.fullscreen) {\n  visibility: hidden;\n  opacity: 0;\n}\n.framify__cell.fullscreen {\n  position: fixed;\n  top: 1rem;\n  left: 1rem;\n  max-width: unset;\n  max-height: unset;\n  width: calc(100% - 2 * 1rem);\n  height: calc(100dvh - 2 * 1rem);\n  z-index: 1000;\n}\n.framify__cell > iframe {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  border: none;\n}\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VSb290IjoiL2hvbWUvcnVubmVyL3dvcmsvdXNlbG90dGllL3VzZWxvdHRpZS9zcmMvdXNlbG90dGllL2ZyYW1pZnkiLCJzb3VyY2VzIjpbImluZGV4LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBOEJBO0VBS0U7RUFDQTtFQUNBOztBQUVBO0VBQ0U7RUFDQTtFQUNBO0VBQ0EsU0FaSTtFQWFKLEtBYkk7RUFjSjtFQUNBO0VBQ0E7O0FBOUNGO0VBc0NBO0lBY0k7SUFDQTs7O0FBSUo7RUFDRTtFQUNBO0VBRUE7RUFDQTtFQUNBO0VBQ0EsZUFsQ0k7RUFtQ0o7O0FBakVGO0VBeURBO0lBV0k7OztBQTlESjtFQXVFSTtJQUxBO0lBQ0E7OztBQVNGO0VBQ0U7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBLFNBMURFO0VBMkRGO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFFQTtFQUNBLGtCQWpFVztFQWtFWDtFQUNBO0VBQ0E7RUFDQTtFQUNBOztBQS9GSjtFQWFFO0lBMkZJLGtCQTlFTzs7O0FBUmI7RUFzRk0sa0JBOUVPOztBQWlGVDtFQVRFO0VBQ0E7RUFDQTs7QUE5Rk47RUFzRUU7SUFzQkk7SUFDQTtJQUNBOzs7QUE5Rk47RUE2Q0E7SUFlSTtJQUNBOzs7QUFxREY7RUF0REU7RUFDQTs7QUF5REY7RUFDRTtFQUNBOztBQUdGO0VBQ0U7RUFDQSxLQTNHRTtFQTRHRixNQTVHRTtFQTZHRjtFQUNBO0VBQ0E7RUFDQTtFQUNBOztBQUdGO0VBQ0U7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBIiwic291cmNlc0NvbnRlbnQiOlsiQG1peGluIG1vYmlsZSB7XG4gIEBtZWRpYSAobWF4LXdpZHRoOiA3NjhweCkge1xuICAgIEBjb250ZW50O1xuICB9XG59XG5cbkBtaXhpbiBpc21vdXNlIHtcbiAgQG1lZGlhIChwb2ludGVyOiBmaW5lKSB7XG4gICAgQGNvbnRlbnQ7XG4gIH1cbn1cblxuQG1peGluIGlzdG91Y2gge1xuICBAbWVkaWEgKHBvaW50ZXI6IGNvYXJzZSkge1xuICAgIEBjb250ZW50O1xuICB9XG59XG5cbkBtaXhpbiBob3ZlciB7XG4gIEBpbmNsdWRlIGlzbW91c2Uge1xuICAgICY6aG92ZXIge1xuICAgICAgQGNvbnRlbnQ7XG4gICAgfVxuICB9XG5cbiAgJjphY3RpdmUge1xuICAgIEBjb250ZW50O1xuICB9XG59XG5cbi5mcmFtaWZ5IHtcbiAgJGdhcDogMXJlbTtcbiAgJGNvbG9yLXNoYWRvdzogcmdiYSgxNTgsIDE2MCwgMTYyLCAwLjI1KTtcbiAgJGNvbG9yLWxpbms6IGhzbCgyMTIsIDEwMCUsIDc2JSk7XG5cbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcblxuICAmX19yb3cge1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtd3JhcDogd3JhcDtcbiAgICBwYWRkaW5nOiAkZ2FwO1xuICAgIGdhcDogJGdhcDtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuXG4gICAgLy8gYWxpZ24gY2VsbHNcblxuXG4gICAgQGluY2x1ZGUgbW9iaWxlIHtcbiAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICB3aWR0aDogMTAwJTtcbiAgICB9XG4gIH1cblxuICAmX19jZWxsIHtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgYWxpZ24tc2VsZjogY2VudGVyO1xuXG4gICAgd2lkdGg6IDEwMCU7XG4gICAgbWF4LXdpZHRoOiAxNnJlbTtcbiAgICBhc3BlY3QtcmF0aW86IDEgLyAxO1xuICAgIGJvcmRlci1yYWRpdXM6ICRnYXA7XG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcblxuICAgIEBpbmNsdWRlIG1vYmlsZSB7XG4gICAgICBtYXgtd2lkdGg6IDEwMCU7XG4gICAgfVxuXG4gICAgQG1peGluIHNoYWRvdyB7XG4gICAgICBib3gtc2hhZG93OiAwIDAgMTBweCAkY29sb3Itc2hhZG93O1xuICAgICAgei1pbmRleDogMTtcbiAgICB9XG5cbiAgICBAaW5jbHVkZSBpc21vdXNlIHtcbiAgICAgICY6aG92ZXIge1xuICAgICAgICBAaW5jbHVkZSBzaGFkb3c7XG4gICAgICB9XG4gICAgfVxuXG4gICAgJi1saW5rIHtcbiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgIHotaW5kZXg6IDI7XG4gICAgICByaWdodDogMDtcbiAgICAgIGZvbnQtc2l6ZTogMS41cmVtO1xuICAgICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xuICAgICAgcGFkZGluZzogJGdhcDtcbiAgICAgIHZpc2liaWxpdHk6IGhpZGRlbjtcbiAgICAgIGFzcGVjdC1yYXRpbzogMSAvIDE7XG4gICAgICB3aWR0aDogdW5zZXQ7XG4gICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgY29sb3I6IHRyYW5zcGFyZW50O1xuXG4gICAgICBiYWNrZ3JvdW5kLWNsaXA6IHRleHQ7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkY29sb3Itc2hhZG93O1xuICAgICAgdHJhbnNpdGlvbjogdHJhbnNmb3JtLCB2aXNpYmlsaXR5LCBvcGFjaXR5LCBiYWNrZ3JvdW5kLWNvbG9yO1xuICAgICAgdHJhbnNpdGlvbi1kdXJhdGlvbjogMC4ycztcbiAgICAgIHRyYW5zZm9ybTogc2NhbGUoMC44KTtcbiAgICAgIHRyYW5zZm9ybS1vcmlnaW46IGJvdHRvbSBsZWZ0O1xuICAgICAgb3BhY2l0eTogMDtcblxuICAgICAgQG1peGluIGxpbmstdmlzaWJsZSB7XG4gICAgICAgIHZpc2liaWxpdHk6IHZpc2libGU7XG4gICAgICAgIHRyYW5zZm9ybTogc2NhbGUoMSk7XG4gICAgICAgIG9wYWNpdHk6IDE7XG4gICAgICB9XG5cbiAgICAgIEBpbmNsdWRlIGhvdmVyIHtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogJGNvbG9yLWxpbms7XG4gICAgICB9XG5cbiAgICAgIDpob3ZlciA+ICYge1xuICAgICAgICBAaW5jbHVkZSBsaW5rLXZpc2libGU7XG4gICAgICB9XG5cbiAgICAgIEBpbmNsdWRlIGlzdG91Y2gge1xuICAgICAgICBAaW5jbHVkZSBsaW5rLXZpc2libGU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgQGluY2x1ZGUgaXN0b3VjaCB7XG4gICAgICBAaW5jbHVkZSBzaGFkb3c7XG4gICAgfVxuXG4gICAgJi5mdWxsc2NyZWVuIHtcbiAgICAgIEBpbmNsdWRlIHNoYWRvdztcbiAgICB9XG5cbiAgICAuZnJhbWlmeTpoYXMoLmZ1bGxzY3JlZW4pICY6bm90KC5mdWxsc2NyZWVuKSB7XG4gICAgICB2aXNpYmlsaXR5OiBoaWRkZW47XG4gICAgICBvcGFjaXR5OiAwO1xuICAgIH1cblxuICAgICYuZnVsbHNjcmVlbiB7XG4gICAgICBwb3NpdGlvbjogZml4ZWQ7XG4gICAgICB0b3A6ICRnYXA7XG4gICAgICBsZWZ0OiAkZ2FwO1xuICAgICAgbWF4LXdpZHRoOiB1bnNldDtcbiAgICAgIG1heC1oZWlnaHQ6IHVuc2V0O1xuICAgICAgd2lkdGg6IGNhbGMoMTAwJSAtIDIgKiAjeyRnYXB9KTtcbiAgICAgIGhlaWdodDogY2FsYygxMDBkdmggLSAyICogI3skZ2FwfSk7XG4gICAgICB6LWluZGV4OiAxMDAwO1xuICAgIH1cblxuICAgID4gaWZyYW1lIHtcbiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgIHRvcDogMDtcbiAgICAgIGxlZnQ6IDA7XG4gICAgICB3aWR0aDogMTAwJTtcbiAgICAgIGhlaWdodDogMTAwJTtcbiAgICAgIGJvcmRlcjogbm9uZTtcbiAgICB9XG4gIH1cbn1cbiJdfQ== */`;\n", "export default `:root {\n  --cursor: zoom-in;\n}\n\n.is-fullscreen {\n  --cursor: zoom-out;\n}\n\nbody:has(svg:not(:hover)) {\n  cursor: var(--cursor);\n}\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VSb290IjoiL2hvbWUvcnVubmVyL3dvcmsvdXNlbG90dGllL3VzZWxvdHRpZS9zcmMvdXNlbG90dGllL2ZyYW1pZnkiLCJzb3VyY2VzIjpbImZyYW1lLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRTs7O0FBR0Y7RUFDRTs7O0FBR0Y7RUFDRSIsInNvdXJjZXNDb250ZW50IjpbIjpyb290IHtcbiAgLS1jdXJzb3I6IHpvb20taW47XG59XG5cbi5pcy1mdWxsc2NyZWVuIHtcbiAgLS1jdXJzb3I6IHpvb20tb3V0O1xufVxuXG5ib2R5Omhhcyhzdmc6bm90KDpob3ZlcikpIHtcbiAgY3Vyc29yOiB2YXIoLS1jdXJzb3IpO1xufVxuIl19 */`;\n", "import style from \"./index.scss?inline\";\nimport frameStyle from \"./frame.scss?inline\";\nimport {\n  injectCSS,\n  firstCap,\n  isIframe,\n  addListener,\n  isTouch,\n  delay,\n  random,\n} from \"../utils\";\n\nexport type FramifyConfig = {\n  folders: string[];\n  options?: {\n    parent?: HTMLElement;\n    animate?: boolean;\n    interval?: number[];\n  };\n};\n\nexport default function framify(\n  folders: FramifyConfig[\"folders\"],\n  {\n    parent = document.body,\n    animate = false,\n    interval = [1000, 2000],\n  }: FramifyConfig[\"options\"] = {}\n) {\n  injectCSS(\"framify\", style);\n  const container = document.createElement(\"div\");\n  container.classList.add(\"framify\");\n\n  let currRow: string[] = [];\n  const rows: string[][] = [currRow];\n\n  // new row if cell is null\n  folders.forEach((folder) => {\n    if (folder === null) {\n      currRow = [];\n      rows.push(currRow);\n      return;\n    }\n    if (typeof folder === \"string\") currRow.push(folder);\n  });\n\n  const rowsEl = document.createDocumentFragment();\n  rows.forEach((row) => {\n    const cells = document.createElement(\"div\");\n    cells.classList.add(\"framify__row\");\n    addCells(cells, row);\n    rowsEl.appendChild(cells);\n  });\n\n  container.appendChild(rowsEl);\n  parent.appendChild(container);\n  \n  // trigger animate\n  if (animate) sendAnimate(container, interval);\n}\n\nasync function sendAnimate(container: HTMLElement, interval: number[]) {\n  const frames = container.querySelectorAll(\"iframe\");\n  const randomFrame = random(frames);\n  randomFrame.contentWindow?.postMessage({ type: \"animate\" }, \"*\");\n  await delay(random(interval));\n  sendAnimate(container, interval);\n}\n\nfunction isOnLottie(elem?: Element | null) {\n  if (!elem) return false;\n\n  // console.log('bro', Boolean(elem.closest(\"svg > *\")))\n  return Boolean(elem.closest(\"svg\"));\n}\n\nfunction fullscreen(isFullscreen?: boolean) {\n  if (isTouch()) return;\n\n  window.top?.postMessage({ type: \"fullscreen:request\", isFullscreen }, \"*\");\n}\n\nfunction addCells(cells: HTMLElement, folders: string[]) {\n  folders.forEach((folder) => {\n    const cell = document.createElement(\"div\");\n    cells.appendChild(cell);\n\n    if (!folder) return;\n    // remove index .html or index.html\n    const title = folder\n      .replace(/\\/index\\.html?$/, \"\")\n      .split(\"/\")\n      .pop();\n\n    cell.innerHTML = /*html*/ `\n      <a href=\"${folder}\" class=\"framify__cell-link\" title=\"${firstCap(title)}\" target=\"_blank\" rel=\"noopener noreferrer\">\uD83D\uDD17</a>\n      <iframe src=\"${folder}\"></iframe>\n    `;\n    cell.classList.add(\"framify__cell\");\n    const iframe = cell.querySelector(\"iframe\");\n\n    if (!iframe) return;\n\n    // listen to iframe messages\n    addListener(\n      \"message\",\n      (event) => {\n        // check if message is from the iframe\n        if (event.source !== iframe.contentWindow) return;\n        if (event.data?.type !== \"fullscreen:request\") return;\n\n        let { isFullscreen } = event.data;\n\n        isFullscreen = cell.classList.toggle(\"fullscreen\", isFullscreen);\n        // reply\n\n        event.source?.postMessage(\n          { type: \"fullscreen:confirm\", isFullscreen },\n          event.origin\n        );\n      },\n      false\n    );\n\n    // iframe.onload = () => initFrame(iframe, cell);\n  });\n}\n\nif (isIframe()) {\n  initFrame();\n  injectCSS(\"framify-cell\", frameStyle);\n}\n\n// async function initAnim() {\n//   triggerSequence();\n// }\n\nfunction initFrame() {\n  fullscreen(false);\n  let svg = false;\n\n  // function handleCursor(event: PointerEvent) {\n  //   if (!event.view) return;\n  //   // document.body.classList.toggle(\n  //   //   \"is-outside\",\n  //   //   !isOnLottie(event.target as Element)\n  //   // );\n  // }\n\n  // addListener(\n  //   \"pointerover\",\n  //   (event) => {\n  //     handleCursor(event);\n  //   },\n  //   true\n  // );\n\n  addListener(\n    \"message\",\n    (event) => {\n      if (event.data?.type === \"animate\") {\n        triggerSequence();\n      } else if (event.data?.type === \"fullscreen:confirm\") {\n        const isFullscreen = event.data.isFullscreen;\n        document.body.classList.toggle(\"is-fullscreen\", isFullscreen);\n      }\n    },\n    true\n  );\n\n  // addListener(\n  //   \"pointermove\",\n  //   (event) => {\n  //     handleCursor(event);\n  //   },\n  //   true\n  // );\n\n  addListener(\n    \"pointerdown\",\n    (event) => {\n      svg = isOnLottie(event.target as Element);\n    },\n    true\n  );\n\n  addListener(\n    \"click\",\n    (event) => {\n      if (!event.isTrusted) return;\n      if (!svg) fullscreen();\n    },\n    true\n  );\n\n  // focus out\n  addListener(\n    \"blur\",\n    () => {\n      svg = false;\n    },\n    true\n  );\n\n  addListener(\n    \"keydown\",\n    (event) => {\n      if ((event as KeyboardEvent).key === \"Escape\") fullscreen(false);\n    },\n    true\n  );\n}\n\nfunction trigger(elem: Element | null, name: string) {\n  // check if self window as an iframe is out of focus\n  if (document.hasFocus()) return;\n\n  // console.log(\"trigger\", name, elem);\n  elem?.dispatchEvent(new MouseEvent(name, { bubbles: true }));\n}\n\nlet playing = false;\nasync function triggerSequence() {\n  if (playing) return;\n\n  const isFullscreen = document.body.classList.contains(\"is-fullscreen\");\n  if (isFullscreen) return;\n\n  playing = true;\n  const elem = document.querySelector(\"svg path\");\n\n  await triggerClick(elem);\n  await delay(random(2000, 4000));\n  await triggerClick(elem);\n  playing = false;\n}\n\nasync function triggerClick(elem: Element | null) {\n  if (!elem) return;\n  // trigger pointerdown/mousedown\n  trigger(elem, \"pointerdown\");\n  trigger(elem, \"mousedown\");\n  await delay(random(400, 1000));\n\n  trigger(elem, \"pointerup\");\n  trigger(elem, \"mouseup\");\n\n  await delay(random(800, 1000));\n  trigger(elem, \"click\");\n}\n"],
  "mappings": "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",
  "names": ["uselottie_exports", "__export", "useLottie", "framify", "__toCommonJS", "import_lottie_web", "import_howler", "LottieAudio", "options", "value", "uselottie_default", "import_tinycolor2", "isIOS", "isTouch", "noFunc", "getElem", "selector", "parent", "getElems", "addListener", "event", "callback", "optionsOrCapture", "target", "isIframe", "isNumber", "elem", "delay", "ms", "resolve", "random", "a", "b", "index", "clamp", "value", "min", "max", "toPercent", "total", "firstCap", "text", "convertShortHand", "fancyLog", "name", "color", "as", "textColor", "tinycolor", "injectCSS", "styleContent", "attr", "style", "stringify", "obj", "isInitialized", "hoverCallbacks", "initializeHoverListeners", "updateHoverState", "canHover", "callback", "disable", "event", "enable", "checkEnable", "isTouch", "useHover", "onHoverChange", "import_referentiel", "getMarker", "player", "name", "marker", "convertSegment", "animation", "totalFrames", "currentFrame", "lastFrame", "addFrame", "frames", "index", "markerToFrame", "playAnimation", "force", "segments", "segment", "lerpRange", "arr", "range", "start", "end", "seekAnimation", "position", "isFrame", "pos", "import_lottie_api", "convertPoint", "COLORS", "LOGTYPES", "LottieController", "_LottieController", "options", "debug", "addCSS", "volumeVariation", "name", "rateVariation", "filterSpread", "howlerOptions", "lottieOptions", "injectCSS", "uselottie_default", "elem", "getElem", "lottie", "assetPath", "LottieAudio", "isIOS", "LottieApi", "firstCap", "container", "useHover", "canHover", "event", "oldFrame", "playing", "audios", "frame", "audio", "data", "_a", "_b", "_c", "st", "rate", "random", "value", "callback", "selector", "parent", "getElems", "possibleAnimations", "keys", "animation", "clamp", "position", "isFrame", "result", "seekAnimation", "anim", "x", "y", "viewbox", "normalize", "width", "height", "top", "left", "right", "bottom", "convertPoint", "key", "modeNoValue", "stringify", "messageType", "noFunc", "as", "color", "fancyLog", "loop", "player", "firstFrame", "totalFrames", "currentFrame", "smooth", "force", "playAnimation", "fileName", "path", "spread", "convertShortHand", "toPercent", "framify_default", "frame_default", "framify", "folders", "parent", "animate", "interval", "injectCSS", "framify_default", "container", "currRow", "rows", "folder", "rowsEl", "row", "cells", "addCells", "sendAnimate", "_a", "frames", "random", "delay", "isOnLottie", "elem", "fullscreen", "isFullscreen", "isTouch", "cell", "title", "firstCap", "iframe", "addListener", "event", "_b", "isIframe", "initFrame", "frame_default", "svg", "triggerSequence", "trigger", "name", "playing", "triggerClick", "useLottie", "options", "LottieController", "useLottie", "framify"]
}
